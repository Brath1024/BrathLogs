---
date: 2022-03-08 03:47:17

title: 微服务拆分细则
---

![InterviewCoder](https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png)



​	在微服务的设计过程中，微服务设计有多大，微服务粒度的把控，一直是设计人员需要考虑和设计的难点。

因为服务粒度设计过大，不能得到微服务架构带来的便利，例如：更加敏态的开发，更频繁的版本发布，由于服务功能划分的小，可以根据实际的业务场景，选择更加合适的技术进行代码重构等等。

​		但同时我们也要注意，不是服务越”微“越好，因为服务的过度拆分会使架构的设计复杂度大大提升，同时也会大大提升运维和测试的复杂度等。

​		所以对服务拆分粒度的把控，对设计人员来讲就至关重要了，甚至对项目的成败有非常重要的影响。

这篇文档提供了一些主要的微服务拆分原则，供您参考，来帮助您进行更加合理粒度的微服务设计。



### 微服务的拆分原则 - 通用

| **编号** | **原则**                                                   | **说明**                                      |
| -------- | ---------------------------------------------------------- | --------------------------------------------- |
| 原则1    | 基于业务分析拆分                                           | 基于TOGAF， ADA等                             |
| 原则2    | 基于DDD领域驱动设计中的子域设计拆分                        | 基于领域驱动设计                              |
| 原则3    | 根据动作和用例拆分                                         | 比如支付                                      |
| 原则4    | 根据名词或者资源拆                                         | 比如账号                                      |
| 原则5    | 架构稳定                                                   | 拆分的结构稳定, 不会经常修改                  |
| 原则6    | 服务是可测试的                                             | 集成测试要可定义，测试可回溯                  |
| 原则7    | 单一原则                                                   | 一个服务做一个业务， 自己治理自己的数据库     |
| 原则8    | 开闭原则                                                   | 面向对象理论， 对扩展开放， 对修改关闭        |
| 原则9    | 高内聚                                                     | 强一致，强依赖关系的放在一起， 减少分布式事务 |
| 原则10   | 低耦合                                                     | 服务间互相独立                                |
| 原则11   | 足够小的团队可维护，最大两个pizza team                     | 6-10人一个pizza team                          |
| 原则12   | 团队自治，自己的服务的开发和发布要跟别的团队尽可能小的协调 |                                               |



## 微服务的拆分原则 - 技术侧重点

| **编号** | **原则**                                 | **说明**                        |
| -------- | ---------------------------------------- | ------------------------------- |
| 原则1    | 潜在风险                                 | 服务的风险性                    |
| 原则2    | 资源性能计算性能硬盘性能内存容量网络带宽 | 机器的性能决定了方案的部分选择  |
| 原则3    | 安全                                     | 安全要求是否很高，安全的策略    |
| 原则4    | 高并发瞬时并发持续并发                   | 并发的种类， 持续的时间         |
| 原则5    | 数据库数据量大小读操作写操作数据类型     | 数据的类型， 读写的多少，数据量 |

## 关于我

Brath是一个热爱技术的Java程序猿，公众号「InterviewCoder」定期分享有趣有料的精品原创文章！

![InterviewCoder](https://brath4.oss-cn-shenzhen.aliyuncs.com/picgo/%E4%BA%8C%E7%BB%B4%E7%A0%81plus.png)

非常感谢各位人才能看到这里，原创不易，文章如果有帮助可以关注、点赞、分享或评论，这都是对我的莫大支持！
